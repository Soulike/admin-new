"use strict";(self.webpackChunkadmin_new=self.webpackChunkadmin_new||[]).push([[343],{8928:function(e,t,n){n.r(t),n.d(t,{Modify:function(){return C}});var i=n(6064),l=n(3085),a=n(2791),s=n(3504),o=n(6871),r=n(6190),c=n(6715),u=n(3783),g=n(5639),f="Style_Modify__iACl7",d=n(184);function y(e){return(0,d.jsx)("div",{className:f,children:(0,d.jsx)(g.$,{...e})})}function C(){const[e,t]=(0,a.useState)(0),[n,g]=(0,a.useState)(""),[f,C]=(0,a.useState)(""),[A,h]=(0,a.useState)(void 0),[w,S]=(0,a.useState)(!0),[v,b]=(0,a.useState)([]),[p,m]=(0,a.useState)(!1),[k,P]=(0,a.useState)(!1),[M,N]=(0,a.useState)(!1),[Z,V]=(0,a.useState)(!1),{loading:x,html:E}=(0,u.Z)(f),[I]=(0,s.lr)(),L=(0,o.s0)();(0,a.useEffect)((()=>{const e=I.get("id");if(null===e)i.ZP.warning("\u53c2\u6570\u4e0d\u6b63\u786e");else{const n=Number.parseInt(e);Number.isNaN(n)?i.ZP.warning("\u53c2\u6570\u4e0d\u6b63\u786e"):(t(n),P(!0),r.l.Article.getById(n).then((e=>{if(null!==e){const{title:t,content:n,category:i,isVisible:l}=e;g(t),C(n),h(i),S(l)}})).finally((()=>P(!1))))}}),[I]),(0,a.useEffect)((()=>{m(!0),r.l.Category.getAll().then((e=>{null!==e&&b(e)})).finally((()=>m(!1)))}),[]);const _=e=>{e.preventDefault(),V(!1)},B=_;return(0,d.jsx)(y,{title:n,content:f,category:A,categoryOption:v,isLoadingCategory:p,isLoadingArticle:k,isSubmittingArticle:M,HTMLContent:null!==E&&void 0!==E?E:"",isVisible:w||x,onArticlePreviewButtonClick:e=>{e.preventDefault(),V(!0)},onArticlePreviewModalOk:_,onArticlePreviewModalCancel:B,isArticlePreviewModalVisible:Z,onSubmitButtonClick:async t=>{if(t.preventDefault(),"undefined"===typeof A)i.ZP.warning("\u8bf7\u9009\u62e9\u6587\u7ae0\u5206\u7c7b");else if(0===n.length)i.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u6807\u9898");else if(0===f.length)i.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u5185\u5bb9");else{N(!0);const t=await r.l.Article.modify({id:e,title:n,content:f,category:A,isVisible:w});N(!1),null!==t&&(l.Z.success({message:"\u6587\u7ae0\u4fee\u6539\u6210\u529f"}),L(c.yt[c.DV.MANAGE.BLOG.ARTICLE.MANAGE],{replace:!0}))}},onIsVisibleCheckboxChange:e=>{S(e.target.checked)},onCategorySelectorChange:e=>{h(e)},onContentTextAreaChange:e=>{C(e.target.value)},onTitleInputChange:e=>{g(e.target.value)}})}}}]);
//# sourceMappingURL=343.40ea23e2.chunk.js.map