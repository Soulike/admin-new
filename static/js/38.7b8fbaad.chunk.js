"use strict";(self.webpackChunkadmin_new=self.webpackChunkadmin_new||[]).push([[38],{5373:function(e,t,n){n.r(t),n.d(t,{Add:function(){return d}});var i=n(6064),a=n(3085),l=n(2791),s=n(6190),o=n(3783),r=n(5639),c="Style_Add__8vXsq",u=n(184);function g(e){return(0,u.jsx)("div",{className:c,children:(0,u.jsx)(r.$,{...e,isLoadingArticle:!1})})}function d(){const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)(""),[c,d]=(0,l.useState)(void 0),[f,v]=(0,l.useState)(!0),[C,h]=(0,l.useState)([]),[w,S]=(0,l.useState)(!1),[y,A]=(0,l.useState)(!1),[b,k]=(0,l.useState)(!1),{loading:p,html:m}=(0,o.Z)(n);(0,l.useEffect)((()=>{S(!0),(async()=>{const e=await s.l.Category.getAll();null!==e&&h(e)})().finally((()=>S(!1)))}),[]);const P=e=>{e.preventDefault(),k(!1)},x=P;return(0,u.jsx)(g,{title:e,content:n,category:c,isVisible:f&&!p,categoryOption:C,onTitleInputChange:e=>{t(e.target.value)},onContentTextAreaChange:e=>{r(e.target.value)},onCategorySelectorChange:e=>{d(e)},onIsVisibleCheckboxChange:e=>{v(e.target.checked)},onSubmitButtonClick:async l=>{if(l.preventDefault(),"undefined"===typeof c)i.ZP.warning("\u8bf7\u9009\u62e9\u6587\u7ae0\u5206\u7c7b");else if(0===e.length)i.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u6807\u9898");else if(0===n.length)i.ZP.warning("\u8bf7\u586b\u5199\u6587\u7ae0\u5185\u5bb9");else{A(!0);const i=await s.l.Article.add({title:e,category:c,content:n,isVisible:f});A(!1),null!==i&&(a.Z.success({message:"\u6587\u7ae0\u63d0\u4ea4\u6210\u529f"}),t(""),r(""),d(void 0),v(!0),S(!1),A(!1))}},isLoadingCategory:w,isSubmittingArticle:y,isArticlePreviewModalVisible:b,onArticlePreviewButtonClick:e=>{e.preventDefault(),k(!0)},onArticlePreviewModalOk:P,onArticlePreviewModalCancel:x,HTMLContent:null!==m&&void 0!==m?m:""})}}}]);
//# sourceMappingURL=38.7b8fbaad.chunk.js.map